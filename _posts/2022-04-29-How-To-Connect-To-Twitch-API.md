---
# multilingual page pair id, this must pair with translations of this page. (This name must be unique)
lng_pair: id_autogeneratedsamplecontent_1
title: How To Connect to Twitch API

# post specific
# if not specified, .name will be used from _data/owner.yml
#author: ""
# multiple category is not supported
category: API
# multiple tag entries are possible
tags: ["API"]
# thumbnail image for post
img: ":twitch.jpg"
# disable comments on this page
comments_disable: true

# publish date
date: 2022-04-29 17:00:00 +0600

# seo
# if not specified, date will be used.
#meta_modify_date: 2021-08-10 11:32:53 +0900
# check the meta_common_description in _data/lang/[language].yml
#meta_description: ""

# optional
# if you enabled image_viewer_posts you don't need to enable this. This is only if image_viewer_posts = false
#image_viewer_on: true
# if you enabled image_lazy_loader_posts you don't need to enable this. This is only if image_lazy_loader_posts = false
#image_lazy_loader_on: true
# exclude from on site search
#on_site_search_exclude: true
# exclude from search engines
#search_engine_exclude: true
# to disable this page, simply set published: false or delete this file
#published: false
---

Breakdown how to connect to twitch API

## Requirements 

- Twitch account with Two-Factor Authentication
- Node.js

npm packages
- request 2.8 +
- async 3.2 +


## 1- Go to [Twitch Devs](https://dev.twitch.tv/) website loging with your twitch account 

<img src="https://i.imgur.com/zaEMZmD.jpg" style="margin-left: 5%" >

## 2- Authorize developer service agreement

<img src="https://i.imgur.com/N4cOVdZ.jpg" style="margin-left: 5%" >

## 3- Go to [Twitch Console](https://dev.twitch.tv/console)

<img src="https://i.imgur.com/sKNQQTH.jpg" style="margin-left: 5%" >

## 4- Click on register your application 
<img src="https://i.imgur.com/L8IyxLz.jpg" style="margin-left: 5%" >

## 5- Creating The application

You will need to give a name to the application then for OAuth Redirect URLs i am going to use http://localhost
but if you have public ip and and a domain you can use it as well but for this guide we are going to use localhost
Then click on create 

<img src="https://i.imgur.com/A9calQJ.jpg" style="margin-left: 5%" >


## 6- Manage your application

Go to [Twitch apps](https://dev.twitch.tv/console/apps) and click on manage at your application 

<img src="https://i.imgur.com/aSnd58P.jpg" style="margin-left: 5%" >

## 7- Create new secret

Click on the new secret and save where it is secure

<img src="https://i.imgur.com/lp4A4kf.jpg" style="margin-left: 5%" >


## 8- Getting the code access 
You will need to use this url and change YOUR_CLIENT_ID you got in the step 6

```
https://id.twitch.tv/oauth2/authorize
    ?response_type=code
    &client_id=<YOUR_CLIENT_ID>
    &redirect_uri=http://localhost
    &scope=chat%3Aread+chat%3Aedit
```
Also you can change the scope for your application for more information [click here](https://dev.twitch.tv/docs/authentication/scopes)

Paste that url in your browser and press enter, it going to redirect you to this page and click on authorize

<img src="https://i.imgur.com/BjPNbBr.jpg" style="margin-left: 5%" >

Then it will get you to localhost in this new page you are going to see your application code save it (the code is in the url)

<img src="https://i.imgur.com/r0uTJ3b.jpg" style="margin-left: 5%" >

## 9- Installed some requirements 

In your machine create a folder with the name of your project, open cmd or your favorite terminal go to the directory you already create and run the next commands 

```
node -v
```
```
npm -v
```
You are going to get the response of the version of your node and npm if you haven't installed node js you can download [here](https://nodejs.org/en/download/)

<img src="/assets/img/posts/Twitch_api/twitch_api_version.jpg" style="margin-left: 5%" >

Then run npm init and press enter until it says is this ok? (yes) and type yes

```
npm init

Press ^C at any time to quit.
package name: (dummy)
version: (1.0.0)
description:
entry point: (server.js)
test command:
git repository:
keywords:
author:
license: (ISC)
About to write to <Your PATH>

{
  "name": "dummy",
  "version": "1.0.0",
  "description": "",
  "main": "server.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "start": "node server.js"
  },
  "author": "",
  "license": "ISC"
}


Is this OK? (yes) yes
```
then you need to install the next packages

```
npm install async

npm install request 
```
## 10- Getting the access code 

Open your favorite code editor and paste the next code change the values client_id, client_secret and code for your values all the values need to be between apostrophe --> ''

```
const request = require("request");
const async = require("async");


const options = {
    url: 'https://id.twitch.tv/oauth2/token',
    json:true,
    body: {
    client_id: <YOUR_CLIENT_ID_HERE>,
    client_secret: <YOUR_CLIENT_SECRET_HERE>,
    code: <YOUR_CODE_HERE>,
    grant_type: 'authorization_code',
    redirect_uri: 'http://localhost',

    }
};


request.post(options, (err,res,body)=>{
    if(err){
        return console.log(err);
    }
    console.log('Status: ${res.statusCode}');
    console.log(body);  
});

```

Now you save as code.js it and run it with in your terminal with node code.js

```
node code.js
```

And the output of the command will be something like this 

<img src="https://i.imgur.com/jHYpzTx.jpg" style="margin-left: 5%" >